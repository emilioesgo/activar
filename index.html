<label>TelÃ©fono Celular (WhatsApp):</label>
<div style="display: flex; gap: 10px; margin-bottom: 15px;">
    <select id="codigo-pais" style="width: 35%; padding: 12px; border: 1.5px solid #eee; border-radius: 10px; background: white; font-size: 14px;">
        <option value="52">ğŸ‡²ğŸ‡½ +52 (MX)</option>
        <option value="1">ğŸ‡ºğŸ‡¸ +1 (US/CA)</option>
        <option value="34">ğŸ‡ªğŸ‡¸ +34 (ES)</option>
        <option value="57">ğŸ‡¨ğŸ‡´ +57 (CO)</option>
        <option value="54">ğŸ‡¦ğŸ‡· +54 (AR)</option>
        <option value="56">ğŸ‡¨ğŸ‡± +56 (CL)</option>
        <option value="51">ğŸ‡µğŸ‡ª +51 (PE)</option>
        <option value="593">ğŸ‡ªğŸ‡¨ +593 (EC)</option>
        <option value="502">ğŸ‡¬ğŸ‡¹ +502 (GT)</option>
        <option value="506">ğŸ‡¨ğŸ‡· +506 (CR)</option>
        <option value="58">ğŸ‡»ğŸ‡ª +58 (VE)</option>
        <option value="591">ğŸ‡§ğŸ‡´ +591 (BO)</option>
        <option value="507">ğŸ‡µğŸ‡¦ +507 (PA)</option>
        <option value="503">ğŸ‡¸ğŸ‡» +503 (SV)</option>
        <option value="504">ğŸ‡­ğŸ‡³ +504 (HN)</option>
        <option value="505">ğŸ‡³ğŸ‡® +505 (NI)</option>
        <option value="595">ğŸ‡µğŸ‡¾ +595 (PY)</option>
        <option value="598">ğŸ‡ºğŸ‡¾ +598 (UY)</option>
        <option value="1809">ğŸ‡©ğŸ‡´ +1 (DO)</option>
    </select>
    <input id="telefono" type="tel" placeholder="NÃºmero local" style="width: 65%; margin-bottom: 0;">
</div>

<script type="module">
    // ... (MantÃ©n tus imports y configuraciÃ³n de Firebase igual)

    document.getElementById("btnActivar").onclick = async () => {
        // ... (MantÃ©n tus validaciones de PIN y Captcha)

        const codigoPais = document.getElementById("codigo-pais").value;
        const numLocal = document.getElementById("telefono").value.replace(/\D/g,''); // Limpia espacios/guiones
        
        if(numLocal.length < 7) {
            statusDiv.innerHTML = "âŒ El nÃºmero de telÃ©fono es muy corto.";
            return;
        }

        // UNIMOS AMBOS PARA FORMAR EL NÃšMERO INTERNACIONAL COMPLETO
        const telefonoCompleto = codigoPais + numLocal;

        try {
            // ... (LÃ³gica de verificaciÃ³n de placa y subida de foto)

            await updateDoc(docRef, {
                mascota: document.getElementById("mascota").value,
                correo: document.getElementById("correo").value,
                telefono: telefonoCompleto, // Guardamos el nÃºmero ya listo para WhatsApp
                pin: pin,
                foto: fotoUrl,
                activa: true,
                fechaActivacion: serverTimestamp()
            });

            // ... (Resto del cÃ³digo de Ã©xito)
        } catch (e) {
            statusDiv.innerHTML = "âŒ Error: " + e.message;
        }
    };
</script>
